Запросы XOR и MAX

 Достаточно легко быстро выполнить операции XOR или MAX над всеми элементами массива или над его срезом. Можно ли это делать быстро, если элементы массива постоянно меняются?
 
 Input format
 В первой строке файла содержатся два числа: количество элементов в массиве V: 5⩽N⩽1000000 и количество запросов 1⩽M⩽1000000. Каждый элемент массива имеет тип данных int.
 В следующих N строках перечислены все элементы массива.
 Далее следует M строк запросов. Каждый запрос — отдельная строка, состоящая из кода запроса, который может быть равен 1, 2 или 3 и аргументов запроса.
 Запросы с кодами 1 и 2 содержат два аргумента: начало 0⩽L<N и конец отрезка 0⩽R<N подмассива, L⩽R.
 В ответ на этот запрос программа должна вывести значение либо операции XOR (если код операции 1), либо операции MAX (если код операции 2) над элементами массива от L до R включительно, над отрезком, закрытого на левом и правом концах.
 Запрос с кодом 3 тоже содержит два аргумента, первый из которых есть номер элемента массива V, а второй – его новое значение.
 Количество выведенных строк должно совпадать с количеством запросов с кодами 1 или 2.
 
 Output format
 Протокол работы программы — результаты исполнения запросов с кодами 1 и 2.
 
 Examples
 
 Input
 8 10
 3
 1
 7
 4
 5
 8
 5
 7
 3 0 6
 1 0 5
 1 5 5
 2 4 7
 1 1 3
 3 1 3
 1 6 7
 1 6 6
 1 3 6
 3 1 2
 Output
 9
 8
 8
 2
 2
 5
 12
